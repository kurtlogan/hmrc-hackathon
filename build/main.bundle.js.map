{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./src/speech-to-text/controls.js","webpack:///./src/speech-to-text/keywords.js","webpack:///./src/constants.js","webpack:///./src/calibration/controls.js","webpack:///./src/speech-to-text/onend.js","webpack:///./src/speech-to-text/onerror.js","webpack:///./src/tabbable/index.js","webpack:///./src/speech-to-text/onresult.js","webpack:///./src/speech-to-text/onstart.js","webpack:///./src/webgazer/precision_store_points.js","webpack:///./src/webgazer/setup.js","webpack:///./src/main.js"],"names":["installedModules","__webpack_require__","moduleId","exports","module","i","l","modules","call","m","c","d","name","getter","o","Object","defineProperty","configurable","enumerable","get","r","value","n","__esModule","object","property","prototype","hasOwnProperty","p","s","recog","startSpeechText","element","continuous","interim","stopSpeechText","webkitSpeechRecognition","grammars","webkitSpeechGrammarList","interimResults","onstart","_onstart2","default","onerror","_onerror2","onresult","_onresult2","onend","_onend2","lang","start","stop","setBodyListener","document","body","k","_keywords2","map","a","key","join","console","log","addFromString","_index","_controls","currentIndex","action","tabs","_index2","nextIndex","length","focus","window","scrollBy","click","history","back","Array","from","querySelectorAll","find","e","innerText","toLowerCase","querySelector","enableSpeechNavigation","textField","dot","running","dotTop","parseInt","style","top","dotLeft","left","counter","dir","cleanup","removeChild","undefined","webgazer","createElement","position","appendChild","width","height","backgroundColor","borderRadius","updateDotPosition","setTimeout","innerWidth","innerHeight","recordScreenPosition","el","options","candidate","candidateIndex","elementDocument","ownerDocument","basicTabbables","orderedTabbables","isUnavailable","isOffCache","node","documentElement","computedStyle","defaultView","getComputedStyle","isOff","nodeComputedStyle","result","display","parentNode","push","visibility","createIsUnavailable","candidateSelectors","candidates","includeContainer","matches","Element","msMatchesSelector","webkitMatchesSelector","some","candidateSelector","slice","apply","unshift","getAttribute","tabIndex","tagName","type","disabled","index","tabbableNodes","sort","b","_keywords","lastResult","matchDMY","transcript","match","matchMDY","monthMap","january","february","march","april","may","june","july","august","september","october","november","december","event","resultIndex","results","classList","dateHandler","temp","replace","word","indexOf","store_points_var","xPast50","yPast50","store_points_variable","stop_storing_points_variable","store_points","x","y","get_points","past50","_precision_store_points","_precision_store_points2","canvas","getElementById","setRegression","setTracker","setGazeListener","data","clock","begin","removeMouseEventListeners","showPredictionPoints","setup","video","margin","background","params","imgWidth","imgHeight","overlay","id","faceOverlay","border","cl","getTracker","clm","drawLoop","requestAnimFrame","getContext","clearRect","getCurrentPosition","draw","checkIfReady","isReady","onload","_constants2","speechRunner","webgazerRunner","Error","_setup2","addEventListener","_controls3","speechToTextElements","_loop","onfocus","onblur"],"mappings":"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","file":"main.bundle.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 11);\n","import onstart from './onstart'\nimport onresult from './onresult'\nimport onerror from './onerror'\nimport onend from './onend'\nimport keywords from './keywords'\n\nlet recog\n\nlet startSpeechText = (element, continuous, interim) => {\n  if(recog) { stopSpeechText(); }\n\n  recog = new webkitSpeechRecognition();\n  recog.grammars = new webkitSpeechGrammarList();\n  recog.continuous = continuous;\n  recog.interimResults = interim;\n\n  recog.onstart = onstart(element);\n  recog.onerror = onerror(element);\n  recog.onresult = onresult(element);\n  recog.onend = onend(element);\n\n  recog.lang = \"en-GB\";\n  recog.start();\n\n  return recog;\n}\n\nlet stopSpeechText = () => {\n  recog.stop();\n}\n\nlet setBodyListener = () => {\n  let recog = startSpeechText(document.body, true, true);\n\n  let k = '#JSGF V1.0; grammar actions; public <actions> = ' +\n    keywords.map(a => a.key).join(' | ') + ';';\nconsole.log(k)\n  let grammars = new webkitSpeechGrammarList();\n  grammars.addFromString(k, 1);\n  recog.grammars = grammars;\n}\n\nexport { startSpeechText, stopSpeechText, setBodyListener }\n","import tabbable from '../tabbable/index'\nimport { startSpeechText, setBodyListener } from './controls'\n\nlet currentIndex = -1;\n\nexport default [{\n  key: \"next\",\n  action: () => {\n    let tabs = tabbable(document.body)\n    let nextIndex = ++currentIndex\n\n    if(nextIndex > tabs.length - 1) {\n      currentIndex = nextIndex = 0\n    }\n\n    tabs[nextIndex].focus();\n  }\n}, {\n  key: \"previous\",\n  action: () => {\n    let tabs = tabbable(document.body)\n    let nextIndex = --currentIndex\n\n    if(nextIndex < 0) {\n      currentIndex = nextIndex = tabs.length - 1\n    }\n\n    tabs[nextIndex].focus();\n  }\n}, {\n  key: \"scroll up\",\n  action: () => {\n    window.scrollBy(0, -200)\n  }\n}, {\n  key: \"scroll down\",\n  action: () => {\n    window.scrollBy(0, 200)\n  }\n}, {\n  key: \"click\",\n  action: () => {\n    let element = tabbable(document.body)[currentIndex]\n\n    if(element) {\n      element.click()\n    }\n  }\n}, {\n  key: \"edit\",\n  action: () => {\n    let element = tabbable(document.body)[currentIndex]\n\n    if(element) {\n      element.focus();\n      startSpeechText(element, false, true);\n    }\n  }\n}, {\n  key: \"back\",\n  action: () => window.history.back()\n}, {\n  key: \"start now\",\n  action: () => {\n    let element = Array.from(document.querySelectorAll(\"a\"))\n      .find(e => e.innerText.toLowerCase() == \"start now\")\nconsole.log(element)\n    if(element) {\n      element.click();\n    }\n  }\n}, {\n  key: \"option yes\",\n  action: () => {\n    let element = Array.from(document.querySelectorAll(\"input[type=radio]\"))\n      .find(e => e.value.toLowerCase() == \"yes\")\n\n    if(element) {\n      element.click();\n    }\n  }\n}, {\n  key: \"option no\",\n  action: () => {\n    let element = Array.from(document.querySelectorAll(\"input[type=radio]\"))\n      .find(e => e.value.toLowerCase() == \"no\")\n\n    if(element) {\n      element.click();\n    }\n  }\n}, {\n  key: \"continue\",\n  action: () => {\n    let element = Array.from(document.querySelectorAll(\"input[type=submit]\"))\n      .find(e => e.value.toLowerCase() == \"continue\")\n\n    if(element) {\n      element.click();\n    }\n  }\n}, {\n  key: \"name\",\n  action: () => {\n    let element = document.querySelector(\"input[type=text]\")\n\n    if(element) {\n      element.focus();\n      startSpeechText(element, false, true);\n    }\n  }\n}, {\n  key: \"confirm and send\",\n  action: () => {\n    let element = Array.from(document.querySelectorAll(\"a\"))\n      .find(e => e.innerText.toLowerCase() == \"confirm and send\")\n\n    if(element) {\n      element.click();\n    }\n  }\n}, {\n  key: \"date\",\n  action: () => {\n    let element = document.querySelector(\".form-date\")\n\n    if(element) {\n        element.focus();\n        startSpeechText(element, false, true);\n    }\n  }\n}]\n","let enableSpeechNavigation = true;\n\nexport default { enableSpeechNavigation }\n","let textField;\nlet dot;\nlet running = false;\n\nlet dotTop = () => dot ? parseInt(dot.style.top) : 0\nlet dotLeft = () => dot ? parseInt(dot.style.left) : 0\n\nlet speed = 15;\nlet maxIterations = 4\nlet counter = 0;\n\nlet spawnRedDot = () => {\n  if (!dot) {\n    dot = document.createElement('div');\n    dot.style.width = \"20px\"\n    dot.style.height = \"20px\"\n    dot.style.position = 'fixed'\n    dot.style.left = \"10px\"\n    dot.style.top = \"10px\"\n    dot.style.backgroundColor = 'red'\n    dot.style.borderRadius = '50%'\n\n    document.body.appendChild(dot)\n  }\n\n  return dot\n}\n\nlet dir = \"right\"\nlet updateDotPosition = (webgazer) => () => {\n  if(counter >= maxIterations) {\n    dot.style.backgroundColor = 'green'\n    setTimeout(cleanup, 2500)\n    return;\n  }\n\n  if(dot) {\n    if(dotLeft() >= window.innerWidth - 50 && dir == \"right\") {\n      dir = \"down\"\n      counter++\n    } else if(dotTop() >= window.innerHeight - 50 && dir == \"down\") {\n      dir = \"left\"\n      counter++\n    } else if(dotLeft() <= 10 && dir == \"left\") {\n      dir = \"up\"\n      counter++\n    } else if(dotTop() <= 10 && dir == \"up\") {\n      dir = \"right\"\n      counter++\n    }\n\n    switch (dir) {\n      case \"right\": dot.style.left = (dotLeft() + speed) + \"px\"; break;\n      case \"down\": dot.style.top = (dotTop() + speed) + \"px\"; break;\n      case \"left\": dot.style.left = (dotLeft() - speed) + \"px\"; break;\n      case \"up\": dot.style.top = (dotTop() - speed) + \"px\"; break;\n    }\n\n    webgazer.recordScreenPosition(dotLeft(), dotTop())\n  }\n\n  setTimeout(updateDotPosition(webgazer), 75)\n}\n\nlet cleanup = () => {\n  running = false;\n  counter = 0;\n  document.body.removeChild(textField);\n  document.body.removeChild(dot);\n  textField = undefined\n  dot = undefined\n}\n\nexport default (webgazer) => () => {\n  if(!running) {\n    running = true;\n\n    if(!textField) {\n      textField = document.createElement(\"div\")\n      textField.innerText = \"Stare at the red dot, follow it with you eyes until it turns green\"\n      textField.style.position = \"fixed\"\n      textField.style.top = \"50%\"\n      textField.style.left = \"50%\"\n\n      document.body.appendChild(textField);\n    }\n\n    spawnRedDot()\n    updateDotPosition(webgazer)()\n  }\n}\n","import { setBodyListener } from './controls'\n\nexport default (element) => () => {\n  console.log(\"ending listener\", element)\n  if(element != document.body) {\n    console.log(\"setup body listener\")\n    setBodyListener()\n  }\n}\n","export default (element) => () => {}\n","export default function(el, options) {\n  options = options || {};\n\n  var elementDocument = el.ownerDocument || el;\n  var basicTabbables = [];\n  var orderedTabbables = [];\n\n  // A node is \"available\" if\n  // - it's computed style\n  var isUnavailable = createIsUnavailable(elementDocument);\n\n  var candidateSelectors = [\n    'input',\n    'select',\n    'a[href]',\n    'textarea',\n    'button',\n    '[tabindex]',\n  ];\n\n  var candidates = el.querySelectorAll(candidateSelectors.join(','));\n\n  if (options.includeContainer) {\n    var matches = Element.prototype.matches || Element.prototype.msMatchesSelector || Element.prototype.webkitMatchesSelector;\n\n    if (\n      candidateSelectors.some(function(candidateSelector) {\n        return matches.call(el, candidateSelector);\n      })\n    ) {\n      candidates = Array.prototype.slice.apply(candidates);\n      candidates.unshift(el);\n    }\n  }\n\n  var candidate, candidateIndex;\n  for (var i = 0, l = candidates.length; i < l; i++) {\n    candidate = candidates[i];\n    candidateIndex = parseInt(candidate.getAttribute('tabindex'), 10) || candidate.tabIndex;\n\n    if (\n      candidateIndex < 0\n      || (candidate.tagName === 'INPUT' && candidate.type === 'hidden')\n      || candidate.disabled\n      || isUnavailable(candidate, elementDocument)\n    ) {\n      continue;\n    }\n\n    if (candidateIndex === 0) {\n      basicTabbables.push(candidate);\n    } else {\n      orderedTabbables.push({\n        index: i,\n        tabIndex: candidateIndex,\n        node: candidate,\n      });\n    }\n  }\n\n  var tabbableNodes = orderedTabbables\n    .sort(function(a, b) {\n      return a.tabIndex === b.tabIndex ? a.index - b.index : a.tabIndex - b.tabIndex;\n    })\n    .map(function(a) {\n      return a.node\n    });\n\n  Array.prototype.push.apply(tabbableNodes, basicTabbables);\n\n  return tabbableNodes;\n}\n\nfunction createIsUnavailable(elementDocument) {\n  // Node cache must be refreshed on every check, in case\n  // the content of the element has changed\n  var isOffCache = [];\n\n  // \"off\" means `display: none;`, as opposed to \"hidden\",\n  // which means `visibility: hidden;`. getComputedStyle\n  // accurately reflects visiblity in context but not\n  // \"off\" state, so we need to recursively check parents.\n\n  function isOff(node, nodeComputedStyle) {\n    if (node === elementDocument.documentElement) return false;\n\n    // Find the cached node (Array.prototype.find not available in IE9)\n    for (var i = 0, length = isOffCache.length; i < length; i++) {\n      if (isOffCache[i][0] === node) return isOffCache[i][1];\n    }\n\n    nodeComputedStyle = nodeComputedStyle || elementDocument.defaultView.getComputedStyle(node);\n\n    var result = false;\n\n    if (nodeComputedStyle.display === 'none') {\n      result = true;\n    } else if (node.parentNode) {\n      result = isOff(node.parentNode);\n    }\n\n    isOffCache.push([node, result]);\n\n    return result;\n  }\n\n  return function isUnavailable(node) {\n    if (node === elementDocument.documentElement) return false;\n\n    var computedStyle = elementDocument.defaultView.getComputedStyle(node);\n\n    if (isOff(node, computedStyle)) return true;\n\n    return computedStyle.visibility === 'hidden';\n  }\n}\n","import keywords from './keywords'\n\nlet lastResult = \"\"\n\nlet dateHandler = (element, transcript) => {\n  let matches = matchDMY(transcript) || matchMDY(transcript)\n\n  if(matches) {\n    element.querySelector(\".form-group-day input\").value = matches[0];\n    element.querySelector(\".form-group-month input\").value = monthMap[matches[1].toLowerCase()];\n    element.querySelector(\".form-group-year input\").value = matches[2];\n  }\n}\n\nlet matchDMY = (transcript) => {\n  let r = /(\\b[\\d]{1,2}).*(january|february|march|april|may|june|july|august|september|october|november|december).*([\\d]{4})/i\n  let matches = transcript.match(r)\n\n  if(!matches) return null;\n\n  return [matches[1], matches[2], matches[3]]\n}\n\nlet matchMDY = (transcript) => {\n  let r = /(january|february|march|april|may|june|july|august|september|october|november|december).*(\\b[\\d]{1,2}).*([\\d]{4})/i\n  let matches = transcript.match(r)\n\n  if(!matches) return null;\n\n  return [matches[2], matches[1], matches[3]]\n}\n\nlet monthMap = {\n  \"january\": 1,\n  \"february\": 2,\n  \"march\": 3,\n  \"april\": 4,\n  \"may\": 5,\n  \"june\": 6,\n  \"july\": 7,\n  \"august\": 8,\n  \"september\": 9,\n  \"october\": 10,\n  \"november\": 11,\n  \"december\": 12\n}\n\nexport default (element) => (event) => {\n  var interim = '';\n\n  for(var i = event.resultIndex; i < event.results.length; ++i) {\n    interim += event.results[i][0].transcript;\n  }\n\n  console.log(interim);\n\n  if(Array.from(element.classList).find(e => e == \"form-date\")) {\n    dateHandler(element, interim)\n  } else if(element == document.body) {\n    let temp = interim;\n    interim = interim.replace(lastResult, \"\");\n    lastResult = temp;\n\n    var word = keywords.find(i => interim.indexOf(i.key) > -1)\n\n    if(word)\n    {\n      console.log(word.key);\n      word.action();\n    }\n  } else {\n    element.value = interim;\n  }\n}\n","export default (element) => () => {}\n","export default (window) => {\n  window.store_points_var = false;\n  window.xPast50 = new Array(50);\n  window.yPast50 = new Array(50);\n\n  /*\n   * Sets store_points to true, so all the occuring prediction\n   * points are stored\n   */\n  window.store_points_variable = function(){\n    store_points_var = true;\n  }\n\n  /*\n   * Sets store_points to false, so prediction points aren't\n   * stored any more\n   */\n  window.stop_storing_points_variable = function(){\n    store_points_var = false;\n  }\n\n  /*\n   * Stores the position of the fifty most recent tracker preditions\n   */\n  window.store_points = function(x, y, k) {\n    xPast50[k] = x;\n    yPast50[k] = y;\n  }\n\n  /*\n   * Returns the stored tracker prediction points\n   */\n  window.get_points = function() {\n    var past50 = new Array(2);\n    past50[0] = xPast50;\n    past50[1] = yPast50;\n    return past50;\n  }\n}\n","import precision_store_points from './precision_store_points'\n\nexport default (window, webgazer) => {\n  precision_store_points(window);\n\n  var canvas = document.getElementById(\"plotting_canvas\");\n\n  if(canvas) {\n    //start the webgazer tracker\n     webgazer.setRegression('ridge') /* currently must set regression and tracker */\n         .setTracker('clmtrackr')\n         .setGazeListener(function(data, clock) {\n           //   console.log(data); /* data is an object containing an x and y key which are the x and y prediction coordinates (no bounds limiting) */\n           //   console.log(clock); /* elapsed time in milliseconds since webgazer.begin() was called */\n         })\n         .begin()\n         .removeMouseEventListeners()\n         .showPredictionPoints(true); /* shows a square every 100 milliseconds where current prediction is */\n\n     var width = 320;\n     var height = 240;\n     var topDist = '0px';\n     var leftDist = '0px';\n\n     //Set up the webgazer video feedback.\n     var setup = function() {\n         //Set up video variable to store the camera feedback\n         var video = document.getElementById('webgazerVideoFeed');\n\n         //Position the camera feedback to the top left corner.\n         video.style.display = 'block';\n         video.style.position = 'fixed';\n         video.style.top = topDist;\n         video.style.left = leftDist;\n\n         //Set up the video feedback box size\n         video.width = width;\n         video.height = height;\n         video.style.margin = '0px';\n         video.style.background = '#222222';\n         webgazer.params.imgWidth = width;\n         webgazer.params.imgHeight = height;\n\n         //Set up the main canvas. The main canvas is used to calibrate the webgazer.\n         var overlay = document.createElement('canvas');\n         overlay.id = 'overlay';\n\n         //Setup the size of canvas\n         overlay.style.position = 'fixed';\n         overlay.width = width;\n         overlay.height = height;\n         overlay.style.top = topDist;\n         overlay.style.left = leftDist;\n         overlay.style.margin = '0px';\n\n         //Draw the face overlay on the camera video feedback\n         var faceOverlay = document.createElement('face_overlay');\n         faceOverlay.id = 'faceOverlay';\n         faceOverlay.style.position = 'fixed';\n         faceOverlay.style.top = '59px';\n         faceOverlay.style.left = '107px';\n         faceOverlay.style.border = 'solid';\n\n         document.body.appendChild(overlay);\n         document.body.appendChild(faceOverlay);\n\n         canvas.width = window.innerWidth;\n         canvas.height = window.innerHeight;\n         canvas.style.position = 'fixed';\n\n         var cl = webgazer.getTracker().clm;\n\n         //This function draw the face of the user frame.\n         function drawLoop() {\n             requestAnimFrame(drawLoop);\n             overlay.getContext('2d').clearRect(0,0,width,height);\n             if (cl.getCurrentPosition()) {\n                 cl.draw(overlay);\n             }\n         }\n         drawLoop();\n     };\n\n     function checkIfReady() {\n         if (webgazer.isReady()) {\n             setup();\n         } else {\n             setTimeout(checkIfReady, 100);\n         }\n     }\n     setTimeout(checkIfReady, 100);\n   }\n}\n","import webgazerSetup from './webgazer/setup'\nimport {startSpeechText, stopSpeechText, setBodyListener} from './speech-to-text/controls'\nimport startCalibration from './calibration/controls'\nimport constants from './constants'\n\nwindow.onload = () => {\n  if(constants.enableSpeechNavigation) {\n    speechRunner();\n  } else {\n    webgazerRunner();\n  }\n}\n\nlet speechRunner = () => {\n  setBodyListener();\n}\n\nlet webgazerRunner = () => {\n  if(typeof(window.webgazer) === 'undefined') {\n    throw new Error(\"webgazer not found!\");\n  } else {\n    webgazerSetup(window, window.webgazer);\n  }\n\n  let calibrateButton = document.querySelector(\"#calibrate\")\n\n  if(calibrateButton) {\n    document.addEventListener('click', startCalibration(window.webgazer));\n  }\n\n  /*\n   * Bind speech to text to all elements on page load\n   */\n  let speechToTextElements = document.querySelectorAll(\"input[type='text'], textarea\");\n  for (let i = 0; i < speechToTextElements.length; i++) {\n    let element = speechToTextElements[i];\n    element.onfocus = () => {\n      startSpeechText(element, false, true);\n      element.onblur = () => stopSpeechText();\n    }\n  }\n}\n"],"sourceRoot":""}