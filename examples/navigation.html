<!DOCTYPE html>
<html>
<head>
  <!-- Webgazer script must come before library script -->
  <script type="text/javascript" src="/build/webgazer.js"></script>
  <script type="text/javascript" src="/build/main.bundle.js"></script>
  <script>
    function start() {
      webgazer.setGazeListener(function(data, elapsedTime) {
      if (data == null) {
        return;
      }
      var xprediction = data.x;
      var yprediction = data.y;
    }).begin();
  };

  window.onload = start;

  function getPrediction() {
    var xCoords = [];
    var yCoords = [];
    var avgX = 0;
    var avgX = 0;

    for (i = 0; i < 100; i++) {
      var currentPrediction = webgazer.getCurrentPrediction();

      if(currentPrediction == null) {
        currentPrediction = webgazer.getCurrentPrediction();
      }

      xCoords.push(currentPrediction.x);
      yCoords.push(currentPrediction.y);
      var avgX = xCoords.reduce(function(a, b) { return a + b; }, 0) / 100;
      var avgY = yCoords.reduce(function(a, b) { return a + b; }, 0) / 100;
    }
    return {avgX, avgY};
  }

  function doNav() {
    var position = getPrediction();
    var width = window.innerWidth;
    var height = window.innerHeight;

    console.log(position.avgX + " = x");
    console.log(position.avgY + " = y");
    console.log(width + " = width");
    console.log(height + " = height");

    if(position.avgX < (width / 3) && position.avgY < (height / 3)) {
      console.log("top left");
    } else if ((2 * (width / 3)) < position.avgX && position.avgY < (height / 3)) {
      console.log("top right");
    } else if (position.avgX < (width / 3) && (2 * (height / 3)) < position.avgY) {
      console.log("bottom left");
    } else if ((2 * (width / 3)) < position.avgX && (2 * (height / 3)) < position.avgY) {
      console.log("bottom right");
    } else {
      console.log("you dam fucked up morty!");
    }
  }

  </script>

  <style>
    .grid-row {
      width:100%;
      height: 260px;
    }

    .col-one-third {
      float:left;
      width:33.3%;
      min-height:200px;
      border:1px solid black;
      box-sizing: border-box;
    }
  </style>
</head>

<body>
    <div style="position:absolute; top:0px; left:0px;">
      <input id="getPrediction" type="button" value="getPrediction" onclick="doNav()" />
    </div>

    <div style="position:absolute; top:0px; right:0px;">
      <input id="getPrediction" type="button" value="getPrediction" onclick="doNav()" />
    </div>

    <div style="position:absolute; bottom:0px; left:0px;">
      <input id="getPrediction" type="button" value="getPrediction" onclick="doNav()" />
    </div>

    <div style="position:absolute; bottom:0px; right:0px;">
      <input id="getPrediction" type="button" value="getPrediction" onclick="doNav()"/>
    </div>
</body>
</html>
